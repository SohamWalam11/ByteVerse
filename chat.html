<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JusticePal - Chat</title>
    <link rel="stylesheet" href="./static/styles.css">
</head>
<body>
    <h1>⚖️ JusticePal - Chat Interface</h1>

    <form method="POST">
        <label for="language">🌐 Choose Language:</label>
        <select name="language" id="language">
            {% for lang, code in languages %}
                <option value="{{ code }}" {% if selected_lang == code %}selected{% endif %}>{{ lang }}</option>
            {% endfor %}
        </select><br><br>

        <input type="text" name="message" placeholder="Type your message..." required>
        <button type="submit">Send</button>
    </form>

    <h2>💬 Chat History:</h2>
    <div class="chat-history">
        {% if chat_history %}
            {% for user, bot in chat_history %}
                <div class="chat-message">
                    <p><strong>You:</strong> {{ user }}</p>
                    <p><strong>JusticePal:</strong> {{ bot }}</p>
                    <hr>
                </div>
            {% endfor %}
        {% else %}
            <p>No conversation yet. Start chatting!</p>
        {% endif %}
    </div>

    <div class="actions">
        <a href="{{ url_for('clear_chat') }}">🧹 Clear Chat</a><br><br>

        <h3>💾 Download Conversation:</h3>
        <a href="{{ url_for('download', filetype='txt') }}">📄 Download as TXT</a>
        <a href="{{ url_for('download', filetype='pdf') }}">📄 Download as PDF</a>
        <a href="{{ url_for('download', filetype='pkl') }}">💾 Download as PKL</a>
    </div>

    <script src="./static/script.js"></script>
</body>
</html>
